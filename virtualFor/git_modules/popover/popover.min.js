angular.module("popover",[]);var Popover;!function(e){var t=function(){function e(e,t,r){var n=this;this.$rootScope=e,this.$window=t,this.popover=r,this.restrict="A",this.scope={popoverDirection:"@",popoverTitle:"@",templateUrl:"@",transitionDurationInMilliseconds:"=",triggerEvent:"@",visibilityDurationInMilliseconds:"=",viewBag:"="},this.link=function(e,t,r){function o(){return s?(s.hide(),void(s=null)):void 0}function i(e,t,r){e.triggerEvent=e.triggerEvent||"click",a(e,r),l=t[0].querySelectorAll("[popover-template]")[0],l&&l.parentNode.removeChild(l)}function a(e,t){angular.extend(e,u(t)),angular.extend(e,e.viewBag)}function u(e){var t={};for(var r in e)r.indexOf("$")<0&&r.indexOf("class")<0&&r.indexOf("popoverTrigger")<0&&(angular.isFunction(e[r])||(t[r]=e[r]));return t}angular.element(n.$window).bind("resize",o),angular.element(n.$window).bind("scroll",o),angular.element(n.$window).bind("mousewheel",o),n.$rootScope.$on("routeChangeStart",o);var s=null;i(e,t,r),t[0].addEventListener(e.triggerEvent,function(r){return s?(s.hide(),void(s=null)):(r.stopPropagation(),void n.popover.createInstance({appendToBody:e.appendToBody||!0,defaultDirection:e.defaultDirection||"bottom",element:t[0],popoverTitle:e.popoverTitle,templateUrl:e.templateUrl,template:l,transitionDurationInMilliseconds:e.transitionDurationInMilliseconds||500,triggerScope:e,visibilityDurationInMilliseconds:e.visibilityDurationInMilliseconds||3e3,scope:e,triggerAugmentedJQuery:t}).then(function(e){s=e,s.show()}))});var l}}return e.createInstance=function(t,r,n){return new e(t,r,n)},e}();e.PopoverTrigger=t,angular.module("popover").directive("popoverTrigger",["$rootScope","$window","popover",t.createInstance])}(Popover||(Popover={}));var Popover;!function(e){"use strict";var t=function(){function e(t,r,n,o,i,a,u){var s=this;this.$compile=t,this.$document=r,this.$http=n,this.$q=o,this.$timeout=i,this.position=a,this.template=u,this.createInstance=function(t){var r=s.$q.defer(),n=new e(s.$compile,s.$document,s.$http,s.$q,s.$timeout,s.position,s.template);return n.scope=t.scope,n.triggerAugmentedJQuery=t.triggerAugmentedJQuery,s.$q.all([s.template.get({templateUrl:t.templateUrl})]).then(function(e){n.templateHtml=e[0],r.resolve(n)}),r.promise},this.setInitialCss=function(){s.augmentedJQuery[0].setAttribute("style","-webkit-transition: opacity "+s.transitionDurationInMilliseconds+"ms ease-in-out;-o-transition: opacity "+s.transitionDurationInMilliseconds+"ms ease-in-out;transition: opacity "+s.transitionDurationInMilliseconds+"ms ease-in-out;"),s.augmentedJQuery[0].style.opacity="0",s.augmentedJQuery[0].style.position="fixed",s.augmentedJQuery[0].style.top="0",s.augmentedJQuery[0].style.left="0",s.augmentedJQuery[0].style.display="block"},this.show=function(){var e=s.$q.defer();return s.augmentedJQuery=s.$compile(s.templateHtml)(s.scope.$new(!0)),s.setInitialCss(),s.position.below(s.triggerAugmentedJQuery[0],s.augmentedJQuery[0],30).then(function(){document.body.appendChild(s.augmentedJQuery[0]),s.$timeout(function(){s.augmentedJQuery.css("opacity",100)},100,!1),e.resolve()}),e.promise},this.hide=function(){var e=s.$q.defer();return s.augmentedJQuery.css("opacity",0),s.augmentedJQuery[0].addEventListener("transitionend",function(){angular.element(s.augmentedJQuery[0]).scope().$destroy(),s.augmentedJQuery[0].parentNode.removeChild(s.augmentedJQuery[0]),e.resolve()},!1),e.promise}}return Object.defineProperty(e.prototype,"transitionDurationInMilliseconds",{get:function(){return 1e3},enumerable:!0,configurable:!0}),e}();e.Popover=t,angular.module("popover").service("popover",["$compile","$document","$http","$q","$timeout","popover.position","popover.template",t])}(Popover||(Popover={}));var Popover;!function(e){var t=function(){function e(e,t,r,n){var o=this;this.$q=e,this.ruler=t,this.space=r,this.translateXY=n,this.somewhere=function(e,t,r,n){var i=o.$q.defer();return i.promise},this.above=function(e,t,r){var n=o.$q.defer();return o.$q.all([o.ruler.measure(e),o.ruler.measure(t)]).then(function(e){var i=e[0],a=e[1];o.translateXY(t,i.centerX-a.radiusX,i.bottom+r),n.resolve()}),n.promise},this.below=function(e,t,r){var n=o.$q.defer();return o.$q.all([o.ruler.measure(e),o.ruler.measure(t)]).then(function(e){var i=e[0],a=e[1];o.translateXY(t,i.centerX-a.radiusX,i.bottom+r),n.resolve()}),n.promise},this.left=function(e,t,r){var n=o.$q.defer();return o.$q.all([o.ruler.measure(e),o.ruler.measure(t)]).then(function(e){var i=e[0],a=e[1];o.translateXY(t,i.centerX-a.radiusX,i.bottom+r),n.resolve()}),n.promise},this.right=function(e,t,r){var n=o.$q.defer();return o.$q.all([o.ruler.measure(e),o.ruler.measure(t)]).then(function(e){var i=e[0],a=e[1];o.translateXY(t,i.centerX-a.radiusX,i.bottom+r),n.resolve()}),n.promise}}return e}();e.Position=t,angular.module("popover").service("popover.position",["$q","popover.ruler","popover.space","popover.translateXY",t])}(Popover||(Popover={}));var Popover;!function(e){"use strict";var t=function(){function e(){this.createInstance=function(t){var r=new e;return t.clientRect?(r.left=t.clientRect.left,r.top=t.clientRect.top,r.height=t.clientRect.height,r.width=t.clientRect.width):(r.left=t.left,r.top=t.top,r.height=t.height,r.width=t.width),r}}return Object.defineProperty(e.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerX",{get:function(){return this.left+this.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this.top+this.height/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radiusX",{get:function(){return this.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radiusY",{get:function(){return this.height/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middle",{get:function(){return{x:this.centerX,y:this.centerY}},enumerable:!0,configurable:!0}),e}();e.Rectangle=t,angular.module("popover").service("popover.rectangle",[t])}(Popover||(Popover={}));var Popover;!function(e){"use strict";var t=function(){function e(e,t,r,n){var o=this;this.$document=e,this.$q=t,this.$timeout=r,this.rectangle=n,this.measure=function(e){var t=o.$q.defer(),r=angular.element(o.$document)[0];return r.body.contains(e)?t.resolve(o.rectangle.createInstance({clientRect:e.getBoundingClientRect()})):o.$timeout(function(){r.body.appendChild(e);var n=e.getBoundingClientRect();e.parentNode.removeChild(e),t.resolve(o.rectangle.createInstance({clientRect:n}))},0,!1),t.promise}}return e}();e.Ruler=t,angular.module("popover").service("popover.ruler",["$document","$q","$timeout","popover.rectangle",t])}(Popover||(Popover={}));var Popover;!function(e){var t=function(){function e(){this.above=function(e,t){return!1},this.below=function(e,t){return!1},this.left=function(e,t){return!1},this.right=function(e,t){return!1}}return e}();e.Space=t,angular.module("popover").service("popover.space",[t])}(Popover||(Popover={}));var Popover;!function(e){var t=function(){function e(e,t,r){var n=this;this.$http=e,this.$q=t,this.$templateCache=r,this.get=function(e){var t=n.$q.defer(),r=n.$templateCache.get(e.templateUrl);return r&&(Array.isArray(r)&&t.resolve(r[1]),t.resolve(r)),n.$http.get(e.templateUrl,{cache:n.$templateCache}).then(function(e){t.resolve(e.data)}),t.promise}}return e}();e.Template=t,angular.module("popover").service("popover.template",["$http","$q","$templateCache",t])}(Popover||(Popover={}));var Popover;!function(e){"use strict";e.translateXY=function(e,t,r){return angular.element(e).css({"-moz-transform":"translate("+t+"px, "+r+"px)","-webkit-transform":"translate("+t+"px, "+r+"px)","-ms-transform":"translate("+t+"px, "+r+"px)","-transform":"translate("+t+"px, "+r+"px)"}),e},angular.module("popover").value("popover.translateXY",e.translateXY)}(Popover||(Popover={}));