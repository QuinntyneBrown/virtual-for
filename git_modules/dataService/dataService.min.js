angular.module("dataService",[]);var DataService;!function(e){"use strict";var t=function(){function e(e){var t=this;this.storage=e,this.storageId="commonStorage",this.get=function(){return t._storage.get()},this.getByName=function(e){return t._storage.getByName(e)},this.put=function(e){t._storage.put(e)},this.clear=function(){},this._storage=e.createInstance("commonStorage")}return e}();angular.module("dataService").service("commonStorage",["storage",t])}(DataService||(DataService={}));var DataService;!function(e){"use strict";var t=function(){function e(e,t,a){var r=this;this.$http=e,this.$q=t,this.localStorageService=a,this.inMemoryCache={},this.fromCacheOrService=function(e){var t=r.$q.defer(),a=r.localStorageService.get(r.getCacheKey(e));return a?t.resolve(a.value):r.fromService(e).then(function(e){t.resolve(e)})["catch"](function(e){t.reject(e)}),t.promise},this.fromInMemoryCacheOrService=function(e){var t=r.$q.defer(),a=r.inMemoryCache[r.getCacheKey(e)];return a?t.resolve(a):r.$http({method:e.method,url:e.url,data:e.data,params:e.params}).then(function(a){r.inMemoryCache[r.getCacheKey(e)]=a,t.resolve(a)})["catch"](function(e){t.reject(e)}),t.promise},this.fromService=function(e){var t=r.$q.defer();return r.$http({method:e.method,url:e.url,data:e.data,params:e.params}).then(function(e){t.resolve(e)})["catch"](function(e){t.reject(e)}),t.promise},this.getCacheKey=function(e){return e.key||e.url+JSON.stringify(e.params)+JSON.stringify(e.data)},this.invalidateCache=function(e){}}return e}();e.DataService=t,angular.module("dataService").service("dataService",["$http","$q","localStorageService",t])}(DataService||(DataService={}));var DataService;!function(e){"use strict";angular.module("dataService").value("localStorage",localStorage)}(DataService||(DataService={}));var DataService;!function(e){var t=function(){function e(e){var t=this;this.commonStorage=e,this.set=function(e,a){return t.commonStorage.put({name:e,value:a}),t.commonStorage.getByName({name:e})},this.get=function(e){var a=t.commonStorage.getByName({name:e});return a?t.commonStorage.getByName({name:e}).value:null},this.remove=function(e){return t.commonStorage.put({name:e,value:null}),!0},this.clearAll=function(){},this.bind=function(e,t,a){return{}},this.unbind=function(e,t,a){return{}}}return e}();e.LocalStorageService=t,angular.module("dataService").service("localStorageService",["commonStorage",t])}(DataService||(DataService={}));var DataService;!function(e){"use strict";var t=function(){function e(t,a){var r=this;this.localStorage=t,this.$window=a,this.createInstance=function(t){var a=new e(r.localStorage,r.$window);return a._storageId=t,a},this.get=function(){if(r._items)return r._items;var e=r.localStorage.getItem(r._storageId);return"undefined"===e||null===e||"null"===e?r._items=[]:r._items=JSON.parse(e),r._items},this.getByName=function(e){var t=r.get(),a=null;return _.each(t,function(t){e.name===t.name&&(a=t)}),a},this.put=function(e){var t=r.get(),a=!1;_.forEach(t,function(t){e.name===t.name&&(a=!0,t.value=e.value,t.category=e.category)}),a||t.push(e)},a.onbeforeunload=function(){r.localStorage.setItem(r._storageId,JSON.stringify(r._items))}}return e}();angular.module("dataService").service("storage",["localStorage","$window",t])}(DataService||(DataService={}));