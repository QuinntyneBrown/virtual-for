angular.module("virtualIndexedListView",["rx"]);var VirtualIndexedListView;!function(e){var t=function(){function e(e,t){var i=this;this.getHtml=e,this.virtualIndexedListViewManager=t,this.restirct="A",this.transclude="element",this.scope=!1,this.compile=function(e){function t(e){e[0].removeAttribute("virtual-indexed-list-view"),e[0].removeAttribute("virtual-indexed-list-view-collection-name"),e[0].removeAttribute("virtual-indexed-list-view-item-name"),e[0].removeAttribute("virtual-indexed-list-view-item-height"),e[0].removeAttribute("virtual-indexed-list-view-items")}var n=i.virtualIndexedListViewManager,r=e.parent(),l=i.getHtml;return function(e,i,a,o,s){s(e.$new(),function(i){t(i),n.createInstance({element:angular.element(r),template:l(i[0],!0),scope:e,items:a.virtualIndexedListViewItems?JSON.parse(a.virtualIndexedListViewItems):e[a.virtualIndexedListViewCollectionName],itemName:a.virtualIndexedListViewItemName,itemHeight:a.virtualIndexedListViewItemHeight}).render()})}}}return e.createInstance=function(t,i){return new e(t,i)},e}();e.VirtualIndexedListView=t,angular.module("virtualIndexedListView").directive("virtualIndexedListView",["virtualIndexedListView.getHtml","virtualIndexedListViewManager",t.createInstance])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){"use strict";!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(e.ScrollingDirection||(e.ScrollingDirection={}));e.ScrollingDirection}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(t){var i=this;this.$window=t,this.createInstance=function(t){var n=new e(i.$window);return n}}return Object.defineProperty(e.prototype,"scrollY",{get:function(){return this.$window.pageYOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.$window.innerHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.scrollY+this.height},enumerable:!0,configurable:!0}),e}();angular.module("virtualIndexedListView").service("virtualIndexedListView.viewPort",["$window",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(t,i,n,r){var l=this;this.$injector=t,this.$interval=i,this.$timeout=n,this.$window=r,this.createInstance=function(t){var i=l.$injector.get("virtualIndexedListViewRenderer"),n=new e(l.$injector,l.$interval,l.$timeout,l.$window);return n.element=t.element,n.scope=t.scope,n.template=t.template,n.virtualIndexedListViewRenderer=i.createInstance({containerHeight:t.items.length*t.itemHeight,items:t.items,itemName:t.itemName,itemHeight:t.itemHeight,element:t.element,scope:t.scope,template:t.template}),n},this.render=function(e){l.virtualIndexedListViewRenderer.render({})},this.debouceRender=function(){l.$timeout.cancel(l.timer),l.timer=l.$timeout(function(){l.render({})},250,!1)},this.onScroll=function(e){return l.lastScrollY==window.pageYOffset?void setTimeout(l.debouceRender,100):void(l.lastScrollY=window.pageYOffset)},this.lastScrollY=window.pageYOffset,this.scrollY=window.pageYOffset}return e}();angular.module("virtualIndexedListView").service("virtualIndexedListViewManager",["$injector","$interval","$timeout","$window",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){"use strict";var t=function(){function t(i,n,r){var l=this;this.$compile=i,this.$injector=n,this.$interval=r,this.createInstance=function(e){var i=new t(l.$compile,l.$injector,l.$interval);return i.containerHeight=e.containerHeight,i.items=e.items,i.itemName=e.itemName,i.scope=e.scope,i.element=e.element,i.template=e.template,i.itemHeight=e.itemHeight,i.viewPort=l.$injector.get("virtualIndexedListView.viewPort").createInstance({element:l.element}),setInterval(function(){i.lastYScroll!=i.viewPort.scrollY&&i.render({scrollY:i.viewPort.scrollY,lastScrollY:i.lastYScroll,viewPortHeight:i.viewPort.height}),i.lastYScroll=i.viewPort.scrollY},200),i},this.render=function(t){if(l.hasRendered===!1){var i=angular.element("<div class='container'></div>");i.css("height",l.containerHeight),l.element.append(i);for(var n=0;n<l.numberOfRenderedItems;n++){var r=l.scope.$new(!0);r[l.itemName]=l.items[n];var a=l.$compile(angular.element(l.template))(r);i.append(a)}}l.getScrollDirections(t.scrollY,t.lastScrollY)===e.ScrollingDirection.Down,l.getScrollDirections(t.scrollY,t.lastScrollY)===e.ScrollingDirection.Up,l.hasRendered=!0},this.getScrollDirections=function(t,i){return i&&t>i?e.ScrollingDirection.Down:i&&i>t?e.ScrollingDirection.Up:null},this.hasRendered=!1,this.lastYScroll=0}return Object.defineProperty(t.prototype,"numberOfRenderedItems",{get:function(){var e=1380;return Math.ceil(e/this.itemHeight)},enumerable:!0,configurable:!0}),t}();angular.module("virtualIndexedListView").service("virtualIndexedListViewRenderer",["$compile","$injector","$interval",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){"use strict";var t=function(e,t){if(!e||!e.tagName)return"";var i,n,r=document.createElement("div");return r.appendChild(e.cloneNode(!1)),i=r.innerHTML,t&&(n=i.indexOf(">")+1,i=i.substring(0,n)+e.innerHTML+i.substring(n)),r=null,i};angular.module("virtualIndexedListView").value("virtualIndexedListView.getHtml",t)}(VirtualIndexedListView||(VirtualIndexedListView={}));