angular.module("virtualIndexedListView",[]);var VirtualIndexedListView;!function(e){var t=function(){function e(e,t){var n=this;this.getHtml=e,this.virtualIndexedListViewRenderer=t,this.restirct="A",this.transclude="element",this.scope=!1,this.compile=function(e){function t(e){e[0].removeAttribute("virtual-indexed-list-view"),e[0].removeAttribute("virtual-indexed-list-view-collection-name"),e[0].removeAttribute("virtual-indexed-list-view-item-name"),e[0].removeAttribute("virtual-indexed-list-view-item-height"),e[0].removeAttribute("virtual-indexed-list-view-items"),e[0].removeAttribute("virtual-indexed-list-view-name"),e[0].removeAttribute("virtual-indexed-list-view-data-service"),e[0].removeAttribute("virtual-indexed-list-view-search-term-name-on-scope"),e[0].removeAttribute("virtual-indexed-list-view-filter-fn-name-on-vm")}var i=n.virtualIndexedListViewRenderer,r=e.parent(),a=n.getHtml;return function(e,n,o,s,l){l(e.$new(),function(n){t(n),i.createInstance({element:angular.element(r),template:a(n[0],!0),scope:e,attributes:o,items:o.virtualIndexedListViewItems?JSON.parse(o.virtualIndexedListViewItems):e.vm[o.virtualIndexedListViewCollectionName],dataService:o.virtualIndexedListViewDataService,searchTermNameOnScope:o.virtualIndexedListViewSearchTermNameOnScope,filterFnNameOnVm:o.virtualIndexedListViewFilterFnNameOnVm}).render({lastScrollY:0,scrollY:0})})}}}return e.createInstance=function(t,n){return new e(t,n)},e}();e.VirtualIndexedListView=t,angular.module("virtualIndexedListView").directive("virtualIndexedListView",["virtualIndexedListView.getHtml","virtualIndexedListViewRenderer",t.createInstance])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){"use strict";var t=function(e,t){if(!e||!e.tagName)return"";var n,i,r=document.createElement("div");return r.appendChild(e.cloneNode(!1)),n=r.innerHTML,t&&(i=n.indexOf(">")+1,n=n.substring(0,i)+e.innerHTML+n.substring(i)),r=null,n};angular.module("virtualIndexedListView").value("virtualIndexedListView.getHtml",t)}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){e.getX=function(e){var t=angular.element(e).css("transform");return"none"===t?0:JSON.parse(t.replace(/^\w+\(/,"[").replace(/\)$/,"]"))[6]},angular.module("virtualIndexedListView").value("virtualIndexedListView.getX",e.getX)}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){e.getY=function(e){var t=angular.element(e).css("transform");return"none"===t?0:JSON.parse(t.replace(/^\w+\(/,"[").replace(/\)$/,"]"))[5]},angular.module("virtualIndexedListView").value("virtualIndexedListView.getY",e.getY)}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){"use strict";var t=function(){function e(e){var t=this;this.$injector=e,this.get=function(e){switch(e.interfaceName){case"ICollectionManager":return e.filterFnNameOnVm&&e.searchTermNameOnScope?t.$injector.get("virtualIndexedListView.filterableCollectionManager").createInstance({items:e.items,scope:e.scope,searchTermNameOnScope:e.searchTermNameOnScope,filterFnNameOnVm:e.filterFnNameOnVm}):e.dataService?t.$injector.get("virtualIndexedListView.lazyLoadCollectionManager").createInstance({items:e.items,dataService:e.dataService}):t.$injector.get("virtualIndexedListView.collectionManager").createInstance({items:e.items});case"IViewPort":return t.$injector.get("virtualIndexedListView.viewPort").createInstance({element:e.element});case"IContainer":return t.$injector.get("virtualIndexedListView.container").createInstance({element:e.element});case"IRenderedNodes":return t.$injector.get("virtualIndexedListView.renderedNodes").createInstance({container:e.container});case"IVirtualNodes":return t.$injector.get("virtualIndexedListView.virtualNodes").createInstance({items:e.items,numberOfRenderedItems:e.numberOfRenderedItems,itemHeight:e.itemHeight})}}}return e}();angular.module("virtualIndexedListView").service("virtualIndexedListView.injector",["$injector",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){e.safeDigest=function(e){e.$$phase||e.$root.$$phase||e.$digest()},angular.module("virtualIndexedListView").value("virtualIndexedListView.safeDigest",e.safeDigest)}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){e.transformY=function(e,t){return angular.element(e).css({"-moz-transform":"translateY("+t+"px)","-webkit-transform":"translateY("+t+"px)","-ms-transform":"translateY("+t+"px)","-transform":"translateY("+t+"px)"}),e},angular.module("virtualIndexedListView").value("virtualIndexedListView.transformY",e.transformY)}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(t){var n=this;this.$q=t,this.createInstance=function(t){var i=new e(n.$q);return i.items=t.items,i.numberOfItems=t.items.length,i},this.getIndexByCriteriaAsync=function(e){for(var t=n.$q.defer(),i=null,r=0;r<n.items.length;r++)n.items[r][e.criteria.key]==e.criteria.value&&(i=r);return t.resolve({index:i}),t.promise},this.subscriptions=[],this.subscribe=function(e){return n.subscriptions.push({callback:e.callback,id:n.subscriptions.length+1,isActive:!0}),n.subscriptions.length}}return Object.defineProperty(e.prototype,"numberOfItems",{get:function(){return this._numberOfItems},set:function(e){this._numberOfItems=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e},enumerable:!0,configurable:!0}),e}();e.CollectionManager=t,angular.module("virtualIndexedListView").service("virtualIndexedListView.collectionManager",["$q",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(t){var n=this;this.getY=t,this.createInstance=function(t){var i=new e(n.getY),r=angular.element("<div class='container'></div>");return t.element.append(r),i.augmentedJQuery=t.element.find(".container"),i},this.reInitialize=function(e){for(var t=0;t<n.htmlElement.children.length;t++){var i=angular.element(n.htmlElement.children[t]).scope();i.$destroy()}n.htmlElement.innerHTML="",n.setHeight(e.height)},this.isNodeAtBottom=function(e){var t=n.getY(e.node)+e.node.offsetTop+e.node.offsetTop;return t===n.height},this.isNodeAtTop=function(e){var t=n.getY(e.node)+e.node.offsetTop;return t===n.top},this.setHeight=function(e){n.augmentedJQuery.css("height",e)}}return Object.defineProperty(e.prototype,"height",{get:function(){return this.htmlElement.offsetHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.htmlElement.offsetHeight+this.htmlElement.offsetTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.htmlElement.offsetTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"augmentedJQuery",{get:function(){return this._augmentedJQuery},set:function(e){this._augmentedJQuery=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this.augmentedJQuery[0]},enumerable:!0,configurable:!0}),e}();angular.module("virtualIndexedListView").service("virtualIndexedListView.container",["virtualIndexedListView.getY",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(t,n){var i=this;this.$q=t,this.$timeout=n,this.createInstance=function(t){var n=new e(i.$q,i.$timeout);return n.items=t.items,n.numberOfItems=t.items.length,n.filterFn=t.scope.vm[t.filterFnNameOnVm],t.scope.$watch(t.searchTermNameOnScope,function(e){n.searchTerm=e;for(var t=0;t<n.subscriptions.length;t++)n.subscriptions[t].callback()}),n},this.getIndexByCriteriaAsync=function(e){for(var t=i.$q.defer(),n=null,r=0;r<i.items.length;r++)i.items[r][e.criteria.key]==e.criteria.value&&(n=r);return t.resolve({index:n}),t.promise},this.subscriptions=[],this.subscribe=function(e){return i.subscriptions.push({callback:e.callback,id:i.subscriptions.length+1,isActive:!0}),i.subscriptions.length}}return Object.defineProperty(e.prototype,"numberOfItems",{get:function(){return this._numberOfItems},set:function(e){this._numberOfItems=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this.searchTerm&&""!=this.searchTerm?this._items.filter(function(t){return e.filterFn(t,e.searchTerm)}):this._items},set:function(e){this._items=e},enumerable:!0,configurable:!0}),e}();e.FilterableCollectionManager=t,angular.module("virtualIndexedListView").service("virtualIndexedListView.filterableCollectionManager",["$q","$timeout",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(t,n){var i=this;this.$injector=t,this.$q=n,this.createInstance=function(t){var n=new e(i.$injector,i.$q);return n.items=t.items,n.numberOfItems=t.items.length,n.dataService=n.$injector.get(t.dataService),n.dataService.search({}).then(function(e){n.numberOfItems=e.data.TotalHits;for(var t=0;t<e.data.TotalHits;t++)n.items.push(null);for(var t=0;t<e.data.Data.length;t++)n.items[t]=e.data.Data[t].Item;for(var t=0;t<n.subscriptions.length;t++)n.subscriptions[t].callback()}),n},this.getIndexByCriteriaAsync=function(e){for(var t=i.$q.defer(),n=null,r=0;r<i.items.length;r++)i.items[r][e.criteria.key]==e.criteria.value&&(n=r);return t.resolve({index:n}),t.promise},this.loadMore=function(){var e=i.lastLoadedIndex;i.loaded||i.dataService.search({params:{offset:e,pageSize:i.pageSize}}).then(function(t){for(var n=0;n<t.data.Data.length;n++)i.items[n+e]=t.data.Data[n].Item})},this.subscriptions=[],this.subscribe=function(e){return i.subscriptions.push({callback:e.callback,id:i.subscriptions.length+1,isActive:!0}),i.subscriptions.length}}return Object.defineProperty(e.prototype,"loaded",{get:function(){for(var e=!0,t=0;t<this.items.length;t++)null===this.items[t]&&(e=!1,t=this.items.length);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastLoadedIndex",{get:function(){for(var e=null,t=0;t<this.items.length;t++)null===this.items[t]&&null===e&&(e=t,t=this.items.length);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return 128},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfItems",{get:function(){return this._numberOfItems},set:function(e){this._numberOfItems=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e},enumerable:!0,configurable:!0}),e}();e.LazyLoadCollectionManager=t,angular.module("virtualIndexedListView").service("virtualIndexedListView.lazyLoadCollectionManager",["$injector","$q",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(t,n){var i=this;this.getX=t,this.getY=n,this.createInstance=function(t){var n=new e(i.getX,i.getY);return n.node=t.node,n}}return Object.defineProperty(e.prototype,"left",{get:function(){return this.getX(this.node)+this.node.offsetLeft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.getX(this.node)+this.node.offsetLeft+this.node.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.getY(this.node)+this.node.offsetTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.getY(this.node)+this.node.offsetHeight+this.node.offsetTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return angular.element(this.node).scope()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$$index",{get:function(){return this.scope.$$index},enumerable:!0,configurable:!0}),e}();angular.module("virtualIndexedListView").service("virtualIndexedListView.renderedNode",["virtualIndexedListView.getX","virtualIndexedListView.getY",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(t,n){var i=this;this.getX=t,this.getY=n,this.createInstance=function(t){var n=new e(i.getX,i.getY);return n.container=t.container,n},this.getAll=function(e){var t;switch(e.orientation){case"horizontal":t="left";break;default:t="top"}switch(e.order){case"desc":return i.map.sort(function(e,n){return n[t]-e[t]});case"asc":return i.map.sort(function(e,n){return e[t]-n[t]})}},this.getHead=function(){var e=i.getAll({order:"asc"});return e.length<1?null:e[0]},this.getTail=function(){var e=i.getAll({order:"desc"});return e.length<1?null:e[0]},this.getHeadAndTail=function(){var e=i.getAll({order:"asc"});return e.length<1?null:{head:e[0],tail:e[e.length-1]}}}return Object.defineProperty(e.prototype,"nodes",{get:function(){return this.container.htmlElement.childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){for(var e=[],t=this.nodes,n=0;n<t.length;n++){var i=t[n];e.push({top:this.getY(i)+i.offsetTop,bottom:this.getY(i)+i.offsetTop+i.offsetHeight,node:i})}return e},enumerable:!0,configurable:!0}),e}();angular.module("virtualIndexedListView").service("virtualIndexedListView.renderedNodes",["virtualIndexedListView.getX","virtualIndexedListView.getY",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(t){var n=this;this.$q=t,this.createInstance=function(t){var i=new e(n.$q);return i.items=t.items,i.numberOfItems=t.items.length,i},this.getIndexByCriteriaAsync=function(e){for(var t=n.$q.defer(),i=null,r=0;r<n.items.length;r++)n.items[r][e.criteria.key]==e.criteria.value&&(i=r);return t.resolve({index:i}),t.promise},this.subscriptions=[],this.subscribe=function(e){return n.subscriptions.push({callback:e.callback,id:n.subscriptions.length+1,isActive:!0}),n.subscriptions.length}}return Object.defineProperty(e.prototype,"numberOfItems",{get:function(){return this._numberOfItems},set:function(e){this._numberOfItems=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e},enumerable:!0,configurable:!0}),e}();e.ScopeCollectionManager=t,angular.module("virtualIndexedListView").service("scopeCollectionManager",["$q",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(t){var n=this;this.$window=t,this.createInstance=function(t){var i=new e(n.$window);return i.scrollableParentElement=i.getScrollableParent(t.element[0]),i},this.getScrollableParent=function(e){if("HTML"==e.tagName)return null;var t=angular.element(e).css("overflowY");return"scroll"==t||"auto"==t?angular.element(e):e.parentNode?n.getScrollableParent(e.parentNode):void 0},this.scrollTo=function(e){n.scrollableParentElement?n.scrollableParentElement[0].scrollTop=e:n.$window.scrollTo(0,e)}}return Object.defineProperty(e.prototype,"scrollY",{get:function(){return this.scrollableParentElement?this.scrollableParentElement[0].scrollTop:this.$window.pageYOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scrollableParentElement?this.scrollableParentElement[0].offsetHeight:this.$window.innerHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.scrollY+this.height},enumerable:!0,configurable:!0}),e}();angular.module("virtualIndexedListView").service("virtualIndexedListView.viewPort",["$window",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){"use strict";var t=function(){function t(n,i,r,a,o,s){var l=this;this.$compile=n,this.$interval=i,this.getY=r,this.injector=a,this.safeDigest=o,this.transformY=s,this.createInstance=function(n){var i=new t(l.$compile,l.$interval,l.getY,l.injector,l.safeDigest,l.transformY);return i.attributes=n.attributes,i.scope=n.scope,i.element=n.element,i.template=n.template,i.viewPort=l.injector.get({interfaceName:"IViewPort",element:i.element}),i.container=l.injector.get({interfaceName:"IContainer",element:i.element}),i.collectionManager=l.injector.get({interfaceName:"ICollectionManager",element:i.element,scope:n.scope,searchTermNameOnScope:n.searchTermNameOnScope,filterFnNameOnVm:n.filterFnNameOnVm,items:n.items,dataService:n.dataService,attributes:n.attributes}),i.renderedNodes=l.injector.get({interfaceName:"IRenderedNodes",container:i.container}),i.collectionManager instanceof e.LazyLoadCollectionManager&&i.$interval(i.collectionManager.loadMore,1e3,null,!1),i.scope.$on(i.scrollEventName,function(e,t){i.collectionManager.getIndexByCriteriaAsync({criteria:t}).then(function(e){i.viewPort.scrollTo(e.index*i.itemHeight)})}),i.scope.$on(i.removeItemEventName,i.renderRemoveItem),i.collectionManager.subscribe({callback:i.forceRender}),i.container.setHeight(i.collectionManager.numberOfItems*i.itemHeight),i.$interval(function(){i.render({scrollY:i.viewPort.scrollY,lastScrollY:i.lastYScroll}),i.lastYScroll=i.viewPort.scrollY},1,null,!1),i.$interval(i.onResize,10,null,!1),i},this.render=function(e){return e.force?l.forceRender():l.hasRendered===!1?l.initialRender():e.scrollY>e.lastScrollY?l.renderTopToBottom(e):e.scrollY<e.lastScrollY?l.renderBottomToTop(e):void 0},this.forceRender=function(){l.hasRendered&&(l.container.reInitialize({height:l.collectionManager.numberOfItems*l.itemHeight}),l.initialRender(),l.safeDigest(l.scope))},this.initialRender=function(){for(var e=document.createDocumentFragment(),t=0;t<l.numberOfRenderedItems;t++){var n=l.scope.$new(!0);n[l.itemName]=l.collectionManager.items[t],n.$$index=t;var i=l.$compile(angular.element(l.template))(n);e.appendChild(i[0])}l.container.augmentedJQuery[0].appendChild(e),l.hasRendered=!0},this.renderTopToBottom=function(e){var t=!1,n=!1,i=!1;do{var r=l.renderedNodes.getHeadAndTail(),a=r.tail,o=r.head;if(angular.element(a.node).scope().$$index==l.collectionManager.numberOfItems-1&&(t=!0),o.bottom>=e.scrollY&&(n=!0),!t&&!n){var s=l.getY(o.node),u=l.getY(a.node),c=l.container.top+s+o.node.offsetTop,d=l.container.top+u+a.node.offsetTop+l.itemHeight,m=d-c+s,f=angular.element(a.node).scope().$$index;l.moveAndUpdateScope({node:o.node,position:m,index:f+1,item:l.collectionManager.items[f+1]}),i=!0}}while(!t&&!n);i&&l.safeDigest(l.scope)},this.renderBottomToTop=function(e){var t=!1,n=!1,i=!1;do{var r=l.renderedNodes.getHeadAndTail(),a=r.tail,o=r.head;if(0==angular.element(o.node).scope().$$index&&(t=!0),a.top<=l.viewPort.scrollY+l.viewPort.height&&(n=!0),!t&&!n){var s=l.getY(o.node),u=l.getY(a.node),c=l.container.top+u+a.node.offsetTop,d=l.container.top+s+o.node.offsetTop-l.itemHeight,m=d-c+u,f=angular.element(o.node).scope().$$index;l.moveAndUpdateScope({node:a.node,position:m,index:f-1,item:l.collectionManager.items[f-1]}),i=!0}}while(!t&&!n);i&&l.safeDigest(l.scope)},this.renderRemoveItem=function(e,t){var n=l.renderedNodes.getAll({order:"asc"}),i=null;l.collectionManager.items.splice(t.index,1),l.collectionManager.numberOfItems--;for(var r=0;r<n.length;r++)i=angular.element(n[r].node).scope(),i[l.itemName]=l.collectionManager.items[i.$$index];l.numberOfRenderedItems>n.length&&(angular.element(n[n.length-1].node).scope().$destroy(),n[n.length-1].node.parentNode.removeChild(n[n.length-1].node)),l.safeDigest(l.scope)},this.moveAndUpdateScope=function(e){l.transformY(e.node,e.position);var t=angular.element(e.node).scope();t[l.itemName]=e.item,t.$$index=e.index},this.onResize=function(){if(l.maxViewPortHeight||(l.maxViewPortHeight=l.viewPort.height),l.maxViewPortHeight&&l.maxViewPortHeight<l.viewPort.height){l.maxViewPortHeight=l.viewPort.height;for(var e=l.renderedNodes.getAll({order:"asc"}).length;l.numberOfRenderedItems>e;){var t=l.renderedNodes.getHeadAndTail().tail,n=angular.element(t.node).scope().$$index+1,i=l.scope.$new(!0);i[l.itemName]=l.collectionManager.items[n],i.$$index=n;var r=l.$compile(angular.element(l.template))(i);l.container.augmentedJQuery.append(r);var a=r[0],o=l.getY(a),s=l.getY(t.node),u=l.container.top+o+a.offsetTop,c=l.container.top+s+t.node.offsetTop+l.itemHeight,d=c-u+o;l.transformY(a,d),e++}l.safeDigest(l.scope)}},this.hasRendered=!1,this.calculateItemHeight=function(e){var t;if(e.items.length>0){var n=l.scope.$new(!0);n[l.itemName]=e.items[0];var i=l.$compile(angular.element(l.template))(n);l.container.augmentedJQuery.append(i),t=i[0].offsetHeight,l.container.htmlElement.removeChild(i[0])}return t},this.lastYScroll=0}return Object.defineProperty(t.prototype,"numberOfRenderedItems",{get:function(){return this.collectionManager.numberOfItems<this.max?this.collectionManager.numberOfItems:this.max},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return Math.ceil((this.viewPort.height*this.renderPageSize+this.container.htmlElement.offsetTop)/Number(this.itemHeight))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemName",{get:function(){return this.attributes[this.controlPrefix+"ItemName"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemHeight",{get:function(){return!this._itemHeight&&this.collectionManager.items.length>0&&(this._itemHeight=this.calculateItemHeight({items:this.collectionManager.items})),this._itemHeight?this._itemHeight:Number(this.attributes[this.controlPrefix+"ItemHeight"])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderPageSize",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.attributes[this.controlPrefix+"Name"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollEventName",{get:function(){return this.controlPrefix+"Scroll"+this.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeItemEventName",{get:function(){return this.controlPrefix+"RemoveItem"+this.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPrefix",{get:function(){return"virtualIndexedListView"},enumerable:!0,configurable:!0}),t}();angular.module("virtualIndexedListView").service("virtualIndexedListViewRenderer",["$compile","$interval","virtualIndexedListView.getY","virtualIndexedListView.injector","virtualIndexedListView.safeDigest","virtualIndexedListView.transformY",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(){var t=this;this.createInstance=function(t){var n=new e;return n.numberOfRenderedItems=t.numberOfRenderedItems,n.items=t.items,n.numberOfItems=t.numberOfItems,n.itemHeight=t.itemHeight,n},this.getYByRenderedIndexAndScrollY=function(e){for(var n=null,i=0;i<t.map.length;i++){var r=t.map[i];r.renderedNodeIndex==e.renderedNodeIndex&&e.scrollY<=r.maxScrollYThreshold&&null==n&&(n=r.y)}return n},this.getPageIndex=function(e){return Math.floor(e.index/t.numberOfRenderedItems)}}return Object.defineProperty(e.prototype,"map",{get:function(){for(var e=[],t=0,n=0;n<this.items.length;n++){var i=this.getPageIndex({index:n});this.itemHeight+i*this.itemHeight;e.push({index:n,y:i*(this.numberOfRenderedItems*this.itemHeight),renderedNodeIndex:t,pageIndex:i,maxScrollYThreshold:(i+1)*this.itemHeight+this.itemHeight*t}),t++,t==this.numberOfRenderedItems&&(t=0)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pages",{get:function(){return Math.ceil(this.numberOfItems/this.numberOfRenderedItems)},enumerable:!0,configurable:!0}),e}();angular.module("virtualIndexedListView").service("virtualIndexedListView.virtualNodes",[t])}(VirtualIndexedListView||(VirtualIndexedListView={}));