angular.module("virtualIndexedListView",["rx"]);var VirtualIndexedListView;!function(e){var t=function(){function e(t,i){var n=this;this.$injector=t,this.$timeout=i,this.createInstance=function(t){var i=new e(n.$injector,n.$timeout);i.element=t.element,i.scope=t.scope,i.template=t.template;var r=n.$injector.get("virtualIndexedListViewRenderer");return i.virtualIndexedListViewRenderer=r.createInstance({containerHeight:10*t.items.length,items:t.items,itemName:t.itemName,itemHeight:t.itemHeight,element:t.element,scope:t.scope,template:t.template}),i.elementCSS=t.window.getComputedStyle(i.element[0],null),i.elementCSS&&i.elementCSS.overflowY&&("auto"==i.elementCSS.overflowY||"scroll"==i.elementCSS.overflowY)&&i.element[0].addEventListener("scroll",i.debouceRender),t.window.addEventListener("mousewheel",i.debouceRender),t.window.addEventListener("scroll",i.debouceRender),t.window.addEventListener("resize",i.debouceRender),i},this.render=function(e){n.virtualIndexedListViewRenderer.render({})},this.debouceRender=function(){n.$timeout.cancel(n.timer),n.timer=n.$timeout(function(){n.render({})},250,!1)}}return e}();angular.module("virtualIndexedListView").service("virtualIndexedListViewManager",["$injector","$timeout",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){"use strict";var t=function(){function e(t){var i=this;this.$compile=t,this.createInstance=function(t){var n=new e(i.$compile);return n.containerHeight=t.containerHeight,n.items=t.items,n.itemName=t.itemName,n.scope=t.scope,n.element=t.element,n.template=t.template,n},this.render=function(e){if(i.hasRendered===!1){for(var t=angular.element("<div class='container'></div>"),n=0;n<i.items.length;n++){var r=i.scope.$new(!0);r[i.itemName]=i.items[n];var a=i.$compile(angular.element(i.template))(r);t.append(a)}i.element.append(t)}i.hasRendered=!0},this.hasRendered=!1}return e}();angular.module("virtualIndexedListView").service("virtualIndexedListViewRenderer",["$compile",t])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){var t=function(){function e(e,t){var i=this;this.getHtml=e,this.virtualIndexedListViewManager=t,this.restirct="A",this.transclude="element",this.scope=!1,this.compile=function(e){function t(e,t){return e.virtualIndexedListViewItems?JSON.parse(e.virtualIndexedListViewItems):t[e.virtualIndexedListViewCollectionName]}function n(e){e[0].removeAttribute("virtual-indexed-list-view"),e[0].removeAttribute("virtual-indexed-list-view-collection-name"),e[0].removeAttribute("virtual-indexed-list-view-item-name"),e[0].removeAttribute("virtual-indexed-list-view-item-height"),e[0].removeAttribute("virtual-indexed-list-view-items")}var r=i.virtualIndexedListViewManager,a=e.parent(),d=i.getHtml;return function(e,i,l,u,s){s(e.$new(),function(i){var u=t(l,e);n(i),r.createInstance({element:angular.element(a),template:d(i[0],!0),scope:e,items:u,itemName:l.virtualIndexedListViewItemName,itemHeight:l.virtualIndexedListViewItemHeight,window:window}).render()})}}}return e.createInstance=function(t,i){return new e(t,i)},e}();e.VirtualIndexedListView=t,angular.module("virtualIndexedListView").directive("virtualIndexedListView",["getHtml","virtualIndexedListViewManager",t.createInstance])}(VirtualIndexedListView||(VirtualIndexedListView={}));var VirtualIndexedListView;!function(e){"use strict";var t=function(e,t){if(!e||!e.tagName)return"";var i,n,r=document.createElement("div");return r.appendChild(e.cloneNode(!1)),i=r.innerHTML,t&&(n=i.indexOf(">")+1,i=i.substring(0,n)+e.innerHTML+i.substring(n)),r=null,i};angular.module("virtualIndexedListView").value("getHtml",t)}(VirtualIndexedListView||(VirtualIndexedListView={}));