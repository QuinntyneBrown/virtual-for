{"version":3,"sources":["services/virtualIndexedListViewRenderer.ts"],"names":["VirtualIndexedListView","VirtualIndexedListView.VirtualIndexedListViewRenderer","VirtualIndexedListView.VirtualIndexedListViewRenderer.constructor"],"mappings":"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","file":"services/virtualIndexedListViewRenderer.js","sourcesContent":["/// <reference path=\"../../typings/typescriptapp.d.ts\" />\r\n\r\nmodule VirtualIndexedListView {\r\n\r\n    \"use strict\";\r\n    \r\n    class VirtualIndexedListViewRenderer implements IVirtualIndexedListViewRenderer {\r\n        constructor(private $compile: ng.ICompileService, private $window: ng.IWindowService) {\r\n\r\n        }\r\n\r\n        public createInstance = (options: any) => {\r\n            var instance = new VirtualIndexedListViewRenderer(this.$compile, this.$window);\r\n            instance.containerHeight = options.containerHeight;\r\n            instance.items = options.items;\r\n            instance.itemName = options.itemName;\r\n            instance.scope = options.scope;\r\n            instance.element = options.element;\r\n            instance.template = options.template;\r\n            instance.itemHeight = options.itemHeight;\r\n            return instance;\r\n        }\r\n\r\n        public render = (options: any) => {\r\n\r\n            this.innerHeight = this.$window.innerHeight;\r\n\r\n            var visibleItems = Math.ceil(this.innerHeight / this.itemHeight);\r\n\r\n            if (this.hasRendered === false) {\r\n\r\n                var parentNode: any = (<any>this.element[0]).parentNode;\r\n\r\n                var containerElement = angular.element(\"<div class='container'></div>\");\r\n\r\n                containerElement.css(\"height\", this.containerHeight);\r\n\r\n                this.element.append(containerElement);\r\n\r\n                var rect = containerElement[0].getBoundingClientRect();\r\n\r\n\r\n                for (var i = 0; i < visibleItems; i++) {\r\n                    var childScope = this.scope.$new(true);\r\n                    childScope[this.itemName] = this.items[i];\r\n                    var itemContent = this.$compile(angular.element(this.template))(childScope);\r\n                    containerElement.append(itemContent);\r\n                }\r\n\r\n                \r\n            }\r\n\r\n            this.hasRendered = true;\r\n        }\r\n\r\n        public hasRendered: boolean = false;\r\n\r\n        public element: ng.IAugmentedJQuery;\r\n\r\n        public template: string;\r\n\r\n        public containerHeight: number;\r\n\r\n        public items: any[];\r\n\r\n        public itemName: string;\r\n\r\n        public scope: ng.IScope;\r\n\r\n        public innerHeight: number;\r\n\r\n        public itemHeight: number;\r\n    }\r\n\r\n    angular.module(\"virtualIndexedListView\").service(\"virtualIndexedListViewRenderer\", [\"$compile\", \"$window\", VirtualIndexedListViewRenderer]);\r\n} "],"sourceRoot":"/source/"}