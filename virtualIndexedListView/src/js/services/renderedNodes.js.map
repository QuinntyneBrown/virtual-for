{"version":3,"sources":["services/renderedNodes.ts"],"names":["VirtualIndexedListView","VirtualIndexedListView.RenderedNodes","VirtualIndexedListView.RenderedNodes.constructor","VirtualIndexedListView.RenderedNodes.nodes","VirtualIndexedListView.RenderedNodes.map"],"mappings":"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","file":"services/renderedNodes.js","sourcesContent":["/// <reference path=\"../../typings/typescriptapp.d.ts\" />\r\n\r\nmodule VirtualIndexedListView {\r\n\r\n    class RenderedNodes implements IRenderedNodes {\r\n        constructor(private getX: IGetX, private getY: IGetY) { }\r\n\r\n        public createInstance = (options: IRenderedNodesInstanceOptions) => {\r\n\r\n            var instance = new RenderedNodes(this.getX, this.getY);\r\n            instance.container = options.container;\r\n            return instance;\r\n        }\r\n\r\n        private get nodes() {\r\n            return this.container.htmlElement.childNodes;\r\n        }\r\n\r\n        public get map() {\r\n            var map = [];\r\n\r\n            var nodes = this.nodes;\r\n\r\n            for (var i = 0; i < nodes.length; i++) {\r\n\r\n                var node = <HTMLElement>nodes[i];\r\n\r\n                map.push({\r\n                    top: this.getY(node) + node.offsetTop,\r\n                    left: this.getX(node) + node.offsetLeft,\r\n                    right: this.getX(node) + node.offsetLeft + node.offsetWidth,\r\n                    bottom: this.getY(node) + node.offsetTop + node.offsetHeight,\r\n                    index: (<any>angular.element(node).scope()).$$index,\r\n                    node: node\r\n                });\r\n            }\r\n\r\n            return map;\r\n        }\r\n\r\n        public getAll = (options:any) => {\r\n\r\n            var direction;\r\n\r\n            switch(options.orientation) {\r\n                case \"horizontal\":\r\n                    direction = \"left\";\r\n                    break;\r\n\r\n                default:\r\n                    direction = \"top\";\r\n                    break;\r\n            }\r\n\r\n            switch (options.order) {\r\n                case \"desc\":\r\n                    return this.map.sort((a: any, b: any) => {\r\n                        return b[direction] - a[direction];\r\n                    });\r\n\r\n                case \"asc\":\r\n                    return this.map.sort((a: any, b: any) => {\r\n                        return a[direction] - b[direction];\r\n                    });\r\n                \r\n            }\r\n        }\r\n\r\n        public getHead = () => {\r\n            var map = this.getAll({ order: \"asc\" });\r\n            if (map.length < 1) { return null; }\r\n            return map[0];\r\n        }\r\n\r\n        public getTail = () => {\r\n            var map = this.getAll({ order: \"desc\" });\r\n            if (map.length < 1) { return null; }\r\n            return map[0];\r\n        }\r\n\r\n        public getHeadAndTail = () => {\r\n            var map = this.getAll({ order: \"asc\" });\r\n            if (map.length < 1) { return null; }\r\n            return {\r\n                head: map[0],\r\n                tail: map[map.length - 1]\r\n            };\r\n        }\r\n\r\n        private container: IContainer;\r\n\r\n    }\r\n\r\n    angular.module(\"virtualIndexedListView\").service(\"virtualIndexedListView.renderedNodes\", [\"virtualIndexedListView.getX\",\"virtualIndexedListView.getY\",RenderedNodes]);\r\n} "],"sourceRoot":"/source/"}