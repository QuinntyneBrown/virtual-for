{"version":3,"sources":["services/collectionManager.ts"],"names":["VirtualIndexedListView","VirtualIndexedListView.CollectionManager","VirtualIndexedListView.CollectionManager.constructor","VirtualIndexedListView.CollectionManager.numberOfItems","VirtualIndexedListView.CollectionManager.items"],"mappings":"AAAA,yDAAyD;AAEzD,IAAO,sBAAsB,CAkE5B;AAlED,WAAO,sBAAsB,EAAC,CAAC;IAE3BA;QACIC,2BAAoBA,EAAeA;YADvCC,iBA6DCA;YA5DuBA,OAAEA,GAAFA,EAAEA,CAAaA;YAI5BA,mBAAcA,GAAGA,UAACA,OAA0CA;gBAC/DA,IAAIA,QAAQA,GAAGA,IAAIA,iBAAiBA,CAACA,KAAIA,CAACA,EAAEA,CAACA,CAACA;gBAC9CA,QAAQA,CAACA,KAAKA,GAAGA,OAAOA,CAACA,KAAKA,CAACA;gBAC/BA,QAAQA,CAACA,aAAaA,GAAGA,OAAOA,CAACA,KAAKA,CAACA,MAAMA,CAACA;gBAC9CA,MAAMA,CAACA,QAAQA,CAACA;YACpBA,CAACA,CAAAA;YAEMA,SAAIA,GAAmBA,qCAAcA,CAACA,UAAUA,CAACA;YAEjDA,4BAAuBA,GAAGA,UAACA,OAAYA;gBAE1CA,IAAIA,QAAQA,GAAGA,KAAIA,CAACA,EAAEA,CAACA,KAAKA,EAAEA,CAACA;gBAE/BA,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;gBAEjBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,KAAIA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBACzCA,EAAEA,CAACA,CAACA,KAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,GAAGA,CAACA,IAAIA,OAAOA,CAACA,QAAQA,CAACA,KAAKA,CAACA,CAACA,CAACA;wBAChEA,KAAKA,GAAGA,CAACA,CAACA;oBACdA,CAACA;gBACLA,CAACA;gBAEDA,QAAQA,CAACA,OAAOA,CAACA,EAAEA,KAAKA,EAAEA,KAAKA,EAAEA,CAACA,CAACA;gBAEnCA,MAAMA,CAACA,QAAQA,CAACA,OAAOA,CAACA;YAC5BA,CAACA,CAAAA;YAsBMA,kBAAaA,GAAoBA,EAAEA,CAACA;YAEpCA,cAASA,GAAGA,UAACA,OAA0BA;gBAC1CA,KAAIA,CAACA,aAAaA,CAACA,IAAIA,CAACA;oBACpBA,QAAQA,EAAEA,OAAOA,CAACA,QAAQA;oBAC1BA,EAAEA,EAAEA,KAAIA,CAACA,aAAaA,CAACA,MAAMA,GAAGA,CAACA;oBACjCA,QAAQA,EAAEA,IAAIA;iBACjBA,CAACA,CAACA;gBACHA,MAAMA,CAACA,KAAIA,CAACA,aAAaA,CAACA,MAAMA,CAACA;YACrCA,CAACA,CAAAA;QAzDDA,CAACA;QA8BDD,sBAAWA,4CAAaA;iBAAxBA;gBACIE,MAAMA,CAACA,IAAIA,CAACA,cAAcA,CAACA;YAC/BA,CAACA;iBAEDF,UAAyBA,KAAaA;gBAClCE,IAAIA,CAACA,cAAcA,GAAGA,KAAKA,CAACA;YAChCA,CAACA;;;WAJAF;QAQDA,sBAAWA,oCAAKA;iBAAhBA;gBACIG,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA;YACvBA,CAACA;iBAEDH,UAAiBA,KAAYA;gBACzBG,IAAIA,CAACA,MAAMA,GAAGA,KAAKA,CAACA;YACxBA,CAACA;;;WAJAH;QAgBLA,wBAACA;IAADA,CA7DAD,AA6DCC,IAAAD;IAEDA,OAAOA,CAACA,MAAMA,CAACA,wBAAwBA,CAACA,CAACA,OAAOA,CAACA,0CAA0CA,EAAEA,CAACA,IAAIA,EAACA,iBAAiBA,CAACA,CAACA,CAACA;AAC3HA,CAACA,EAlEM,sBAAsB,KAAtB,sBAAsB,QAkE5B","file":"services/collectionManager.js","sourcesContent":["/// <reference path=\"../../typings/typescriptapp.d.ts\" />\r\n\r\nmodule VirtualIndexedListView {\r\n\r\n    class CollectionManager implements ICollectionManager {\r\n        constructor(private $q:ng.IQService) {\r\n\r\n        }\r\n\r\n        public createInstance = (options: ICollectionManagerInstanceOptions) => {\r\n            var instance = new CollectionManager(this.$q);\r\n            instance.items = options.items;\r\n            instance.numberOfItems = options.items.length;\r\n            return instance;\r\n        }\r\n\r\n        public type: collectionType = collectionType.collection;\r\n\r\n        public getIndexByCriteriaAsync = (options: any) => {\r\n\r\n            var deferred = this.$q.defer();\r\n\r\n            var index = null;\r\n\r\n            for (var i = 0; i < this.items.length; i++) {\r\n                if (this.items[i][options.criteria.key] == options.criteria.value) {\r\n                    index = i;\r\n                }\r\n            }\r\n\r\n            deferred.resolve({ index: index });\r\n\r\n            return deferred.promise;\r\n        } \r\n\r\n        private _numberOfItems: number;\r\n\r\n        public get numberOfItems() {\r\n            return this._numberOfItems;\r\n        }\r\n\r\n        public set numberOfItems(value: number) {\r\n            this._numberOfItems = value;\r\n        }\r\n\r\n        private _items: any[];\r\n\r\n        public get items() {\r\n            return this._items;\r\n        }\r\n\r\n        public set items(value: any[]) {\r\n            this._items = value;\r\n        }\r\n\r\n        public subscriptions: ISubscription[] = [];\r\n\r\n        public subscribe = (options: ISubscribeOptions) => {\r\n            this.subscriptions.push({\r\n                callback: options.callback,\r\n                id: this.subscriptions.length + 1,\r\n                isActive: true\r\n            });\r\n            return this.subscriptions.length;\r\n        }\r\n    }\r\n\r\n    angular.module(\"virtualIndexedListView\").service(\"virtualIndexedListView.collectionManager\", [\"$q\",CollectionManager]);\r\n} "],"sourceRoot":"/source/"}