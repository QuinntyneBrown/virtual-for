{"version":3,"sources":["directives/virtualIndexedListView.ts"],"names":["VirtualIndexedListView","VirtualIndexedListView.VirtualIndexedListView","VirtualIndexedListView.VirtualIndexedListView.constructor","VirtualIndexedListView.VirtualIndexedListView.constructor.getItems","VirtualIndexedListView.VirtualIndexedListView.constructor.removeVirtualListCustomAttributes"],"mappings":"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","file":"directives/virtualIndexedListView.js","sourcesContent":["/// <reference path=\"../../typings/typescriptapp.d.ts\" />\r\n\r\nmodule VirtualIndexedListView {\r\n\r\n    export class VirtualIndexedListView {\r\n        constructor(private getHtml: IGetHtmlFn, private virtualIndexedListViewManager: IVirtualIndexedListViewManager ) { }\r\n\r\n        public static createInstance = (getHtml: IGetHtmlFn, virtualIndexedListViewManager: IVirtualIndexedListViewManager) => {\r\n            return new VirtualIndexedListView(getHtml, virtualIndexedListViewManager);\r\n        }\r\n\r\n        public restirct: string = \"A\";\r\n\r\n        public transclude: string = 'element';\r\n\r\n        public scope: any = false;\r\n\r\n        public compile = (template: ng.IAugmentedJQuery) => {\r\n            var virtualIndexedListViewManager: IVirtualIndexedListViewManager = this.virtualIndexedListViewManager;\r\n            var parentElement = template.parent();\r\n            var getHtml: IGetHtmlFn = this.getHtml;\r\n\r\n            return function (scope: ng.IScope, element: ng.IAugmentedJQuery, attributes: ng.IAttributes, controller: any, transclude: any) {\r\n\r\n                transclude(scope.$new(),  (clone: ng.IAugmentedJQuery) => {\r\n\r\n                    var items = getItems(attributes, scope);\r\n\r\n                    removeVirtualListCustomAttributes(clone);\r\n\r\n                    virtualIndexedListViewManager.createInstance({\r\n                        element: angular.element(parentElement),\r\n                        template: getHtml(clone[0], true),\r\n                        scope: scope,\r\n                        items: items,\r\n                        itemName: attributes[\"virtualIndexedListViewItemName\"],\r\n                        itemHeight: attributes[\"virtualIndexedListViewItemHeight\"],\r\n                        window: window\r\n                    }).render();\r\n\r\n                });\r\n\r\n            }\r\n\r\n            function getItems(attributes: ng.IAttributes, scope:ng.IScope) {\r\n                if (attributes[\"virtualIndexedListViewItems\"]) {\r\n                    return JSON.parse(attributes[\"virtualIndexedListViewItems\"]);\r\n                } else {\r\n                    return scope[attributes[\"virtualIndexedListViewCollectionName\"]];\r\n                }                \r\n            }\r\n\r\n            function removeVirtualListCustomAttributes(clone: ng.IAugmentedJQuery) {\r\n                clone[0].removeAttribute(\"virtual-indexed-list-view\");\r\n                clone[0].removeAttribute(\"virtual-indexed-list-view-collection-name\");\r\n                clone[0].removeAttribute(\"virtual-indexed-list-view-item-name\");\r\n                clone[0].removeAttribute(\"virtual-indexed-list-view-item-height\");\r\n                clone[0].removeAttribute(\"virtual-indexed-list-view-items\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    angular.module(\"virtualIndexedListView\").directive(\"virtualIndexedListView\", [\"getHtml\",\"virtualIndexedListViewManager\",VirtualIndexedListView.createInstance]);\r\n}"],"sourceRoot":"/source/"}